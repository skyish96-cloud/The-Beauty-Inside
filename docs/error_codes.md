# Error Codes - 에러 코드 정의

## 개요
Beauty Inside API에서 사용하는 표준 에러 코드입니다.

---

## 얼굴 감지 관련 (1xx)

| 코드 | 이름 | 메시지 | 대응 방법 |
|------|------|--------|-----------|
| E101 | NO_FACE_DETECTED | 얼굴이 감지되지 않았습니다 | 카메라를 정면으로 바라보도록 안내 |
| E102 | MULTIPLE_FACES_DETECTED | 여러 명의 얼굴이 감지되었습니다 | 한 명만 촬영하도록 안내 |
| E103 | FACE_TOO_SMALL | 얼굴이 너무 작습니다 | 카메라에 가까이 다가오도록 안내 |
| E104 | FACE_OUT_OF_FRAME | 얼굴이 화면 밖에 있습니다 | 화면 중앙에 위치하도록 안내 |

---

## 이미지 품질 관련 (2xx)

| 코드 | 이름 | 메시지 | 대응 방법 |
|------|------|--------|-----------|
| E201 | IMAGE_TOO_BLURRY | 이미지가 흐립니다 | 카메라 고정 후 재촬영 안내 |
| E202 | IMAGE_TOO_DARK | 이미지가 너무 어둡습니다 | 밝은 곳에서 재촬영 안내 |
| E203 | IMAGE_TOO_BRIGHT | 이미지가 너무 밝습니다 | 조명 조절 후 재촬영 안내 |
| E204 | IMAGE_INVALID_FORMAT | 지원하지 않는 이미지 형식입니다 | JPEG/PNG 형식 사용 안내 |
| E205 | IMAGE_TOO_LARGE | 이미지 크기가 너무 큽니다 | 이미지 압축 후 재시도 |

---

## 표정 관련 (3xx)

| 코드 | 이름 | 메시지 | 대응 방법 |
|------|------|--------|-----------|
| E301 | EXPRESSION_NOT_DETECTED | 표정을 인식하지 못했습니다 | 다시 시도 안내 |
| E302 | EXPRESSION_LOW_CONFIDENCE | 표정 인식 신뢰도가 낮습니다 | 표정을 더 뚜렷하게 안내 |

---

## 시스템 관련 (4xx)

| 코드 | 이름 | 메시지 | 대응 방법 |
|------|------|--------|-----------|
| E401 | INTERNAL_ERROR | 서버 내부 오류가 발생했습니다 | 잠시 후 재시도 안내 |
| E402 | MODEL_LOAD_ERROR | AI 모델 로딩 중 오류가 발생했습니다 | 관리자 문의 안내 |
| E403 | DATABASE_ERROR | 데이터베이스 오류가 발생했습니다 | 잠시 후 재시도 안내 |
| E404 | TIMEOUT_ERROR | 요청 시간이 초과되었습니다 | 네트워크 확인 후 재시도 |

---

## WebSocket 관련 (5xx)

| 코드 | 이름 | 메시지 | 대응 방법 |
|------|------|--------|-----------|
| E501 | WS_CONNECTION_ERROR | WebSocket 연결 오류가 발생했습니다 | 재연결 시도 |
| E502 | WS_MESSAGE_INVALID | 잘못된 메시지 형식입니다 | 메시지 형식 확인 |
| E503 | WS_SESSION_EXPIRED | 세션이 만료되었습니다 | 재연결 필요 |

---

## 에러 응답 형식

```json
{
  "type": "error",
  "session_id": "sess_20240115_a1b2c3d4",
  "error_code": "E101",
  "message": "얼굴이 감지되지 않았습니다. 카메라를 정면으로 바라봐 주세요.",
  "details": {
    // 추가 정보 (선택)
  }
}
```

---

## 프론트엔드 처리 가이드

### 재시도 가능한 에러
- E101, E102, E103, E104 (얼굴 관련)
- E201, E202, E203 (이미지 품질)
- E301, E302 (표정)
- E404 (타임아웃)

### 재연결 필요 에러
- E501 (연결 오류)
- E503 (세션 만료)

### 사용자 안내 필요 에러
- E204, E205 (이미지 형식/크기)

### 관리자 문의 필요 에러
- E401, E402, E403 (시스템 오류)
